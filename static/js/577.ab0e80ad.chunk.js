"use strict";(self.webpackChunkmarvel_heroes=self.webpackChunkmarvel_heroes||[]).push([[577],{287:function(e,n,r){r.r(n),r.d(n,{default:function(){return y}});var a=r(439),s=r(791),t=r(270),c=r(482),i=r(523),o=r(184),l=function(e){var n=e.data,r=n.name,a=n.description,s=n.thumbnail,t=n.homepage,c=n.wiki,i=n.comics,l={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"!==s&&"http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708.gif"!==s||(l={objectFit:"contain"}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"char__basics",children:[(0,o.jsx)("img",{src:s,alt:"abyss",style:l}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"char__info-name",children:r}),(0,o.jsxs)("div",{className:"char__btns",children:[(0,o.jsx)("a",{href:t,className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"homepage"})}),(0,o.jsx)("a",{href:c,className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),(0,o.jsx)("div",{className:"char__descr",children:a}),(0,o.jsx)("div",{className:"char__comics",children:"Comics:"}),(0,o.jsxs)("ul",{className:"char__comics-list",children:[i.length>0?null:"No comics",i.map((function(e,n){if(!(n>9))return(0,o.jsx)("li",{className:"char__comics-item",children:(0,o.jsx)("a",{href:e.resourceURI,children:e.name})},n)}))]})]})},u=function(e){var n=(0,s.useState)(null),r=(0,a.Z)(n,2),t=r[0],u=r[1],d=(0,c.Z)(),h=d.getCharacter,m=d.clearError,_=d.process,f=d.setProcess;(0,s.useEffect)((function(){j()}),[e.charId]);var j=function(){var n=e.charId;n&&(m(),h(n).then(x).then((function(){return f("confirmed")})))},x=function(e){u(e)};return(0,o.jsx)("div",{className:"char__info",children:(0,i.Z)(_,l,t)})},d=r(433),h=r(613),m=r(394),_=function(e){var n=(0,s.useState)([]),r=(0,a.Z)(n,2),t=r[0],i=r[1],l=(0,s.useState)(!1),u=(0,a.Z)(l,2),_=u[0],f=u[1],j=(0,s.useState)(210),x=(0,a.Z)(j,2),v=x[0],p=x[1],b=(0,s.useState)(!1),g=(0,a.Z)(b,2),N=g[0],k=g[1],Z=(0,c.Z)(),y=Z.getAllCharacters,w=Z.process,C=Z.setProcess;(0,s.useEffect)((function(){S(v,!0)}),[]);var S=function(e,n){f(!n),y(e).then(E).then((function(){return C("confirmed")}))},E=function(e){var n=!1;e.length<9&&(n=!0),i((function(n){return[].concat((0,d.Z)(n),(0,d.Z)(e))})),f(!1),p((function(e){return e+9})),k(n)},F=(0,s.useRef)([]),I=function(e){F.current.forEach((function(e){return e.classList.remove("char__item_selected")})),F.current[e].classList.add("char__item_selected"),F.current[e].focus()},M=(0,s.useMemo)((function(){return function(e,n,r){switch(e){case"waiting":return(0,o.jsx)(m.Z,{});case"loading":return r?(0,o.jsx)(n,{}):(0,o.jsx)(m.Z,{});case"confirmed":return(0,o.jsx)(n,{});case"error":return(0,o.jsx)(h.Z,{});default:throw new Error("Unexpected process state")}}(w,(function(){return function(n){var r=n.map((function(n,r){var a={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"!==n.thumbnail&&"http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708.gif"!==n.thumbnail||(a={objectFit:"unset"}),(0,o.jsxs)("li",{className:"char__item",tabIndex:0,ref:function(e){return F.current[r]=e},onClick:function(){I(r),e.onCharSelected(n.id)},onKeyDown:function(a){"Enter"===a.key&&(e.onCharSelected(n.id),I(r))},children:[(0,o.jsx)("img",{src:n.thumbnail,alt:n.name,style:a}),(0,o.jsx)("div",{className:"char__name",children:n.name})]},n.id)}));return(0,o.jsx)("ul",{className:"char__grid",children:r})}(t)}),_)}),[w]);return(0,o.jsxs)("div",{className:"char__list",children:[M,(0,o.jsx)("button",{className:"button button__main button__long",disabled:_,onClick:function(){return S(v,!1)},style:{display:N?"none":"block"},children:(0,o.jsx)("div",{className:"inner",children:"load more"})})]})},f=r(671),j=r(466),x=r(136),v=r(516),p=function(e){(0,x.Z)(r,e);var n=(0,v.Z)(r);function r(){var e;(0,f.Z)(this,r);for(var a=arguments.length,s=new Array(a),t=0;t<a;t++)s[t]=arguments[t];return(e=n.call.apply(n,[this].concat(s))).state={error:!1},e}return(0,j.Z)(r,[{key:"componentDidCatch",value:function(e,n){console.log(e,n),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,o.jsx)(h.Z,{}):this.props.children}}]),r}(s.Component),b=p,g=r.p+"static/media/mjolnir.61f31e1809f12183a524.png",N=function(e){var n=e.data,r=n.name,a=n.description,s=n.thumbnail,t=n.homepage,c=n.wiki,i={objectFit:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"!==s&&"http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708.gif"!==s||(i={objectFit:"contain"}),(0,o.jsxs)("div",{className:"randomchar__block",children:[(0,o.jsx)("img",{src:s,alt:"Random character",className:"randomchar__img",style:i}),(0,o.jsxs)("div",{className:"randomchar__info",children:[(0,o.jsx)("p",{className:"randomchar__name",children:r}),(0,o.jsx)("p",{className:"randomchar__descr",children:a}),(0,o.jsxs)("div",{className:"randomchar__btns",children:[(0,o.jsx)("a",{href:t,className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"homepage"})}),(0,o.jsx)("a",{href:c,className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},k=function(){var e=(0,s.useState)({}),n=(0,a.Z)(e,2),r=n[0],t=n[1],l=(0,c.Z)(),u=l.getCharacter,d=l.clearError,h=l.process,m=l.setProcess;(0,s.useEffect)((function(){f();var e=setInterval(f,6e3);return function(){clearInterval(e)}}),[]);var _=function(e){t(e)},f=function(){d();var e=Math.floor(400*Math.random()+1011e3);u(e).then(_).then((function(){return m("confirmed")}))};return(0,o.jsxs)("div",{className:"randomchar",children:[(0,i.Z)(h,N,r),(0,o.jsxs)("div",{className:"randomchar__static",children:[(0,o.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,o.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,o.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,o.jsx)("button",{className:"button button__main",onClick:f,children:(0,o.jsx)("div",{className:"inner",children:"try it"})}),(0,o.jsx)("img",{src:g,alt:"mjolnir",className:"randomchar__decoration"})]})]})},Z=r.p+"static/media/vision.067d4ae1936d64a577ce.png",y=function(){var e=(0,s.useState)(null),n=(0,a.Z)(e,2),r=n[0],c=n[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.q,{children:[(0,o.jsx)("title",{children:"Marvel Heroes"}),(0,o.jsx)("meta",{name:"description",content:"Marvel Heroes page"})]}),(0,o.jsx)(b,{children:(0,o.jsx)(k,{})}),(0,o.jsxs)("div",{className:"char__content",children:[(0,o.jsx)(b,{children:(0,o.jsx)(_,{onCharSelected:function(e){c(e)}})}),(0,o.jsx)(b,{children:(0,o.jsx)(u,{charId:r})})]}),(0,o.jsx)("img",{className:"bg-decoration",src:Z,alt:"vision"})]})}},523:function(e,n,r){r.d(n,{Z:function(){return i}});var a=r(613),s=r(184),t=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,s.jsxs)("div",{className:"skeleton",children:[(0,s.jsxs)("div",{className:"pulse skeleton__header",children:[(0,s.jsx)("div",{className:"pulse skeleton__circle"}),(0,s.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,s.jsx)("div",{className:"pulse skeleton__block"}),(0,s.jsx)("div",{className:"pulse skeleton__block"}),(0,s.jsx)("div",{className:"pulse skeleton__block"})]})]})},c=r(394),i=function(e,n,r){switch(e){case"waiting":return(0,s.jsx)(t,{});case"loading":return(0,s.jsx)(c.Z,{});case"confirmed":return(0,s.jsx)(n,{data:r});case"error":return(0,s.jsx)(a.Z,{});default:throw new Error("Unexpected process state")}}}}]);
//# sourceMappingURL=577.ab0e80ad.chunk.js.map